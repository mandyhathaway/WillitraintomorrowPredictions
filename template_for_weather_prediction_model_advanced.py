# -*- coding: utf-8 -*-
"""Template for weather prediction model- Advanced.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1jokjza91sCrLpY_y1bpT4q9KTjMU3a4I
"""

### BUILDING A MACHINE LEARNING MODEL WHICH WILL PREDICT WHETHER OR NOT IT WILL RAIN TOMORROW BY LEARNING FROM PAST DATA ###

### SETUP ###

import pandas as pd
import numpy as np

### STEP 1 ### LOAD THE DATASET ###

df = pd.read_csv('weather.csv')
print('size of data frame =', df.shape)
print(df[0:5])

### STEP 2 ### REMOVE NULL VALUES FROM THE DATA FRAME###



### STEP 3 ### HANDLE NON-NUMERIC DATA AND NORMALIZE ###


#Define X here by dropping 'RISK_MM' from the dataframe


### STEP 4 ### FEATURE SELECTION ###



### STEP 5 ### PUT IMPORTANT FEATURES IN THE DATA FRAME ###


### STEP 6 ### DATA SPLICING ###


### STEP 7 ### BUILDING THE MODEL USING THE TRAINING DATA SET ###


### STEP 8 ### EVALUATE THE MODEL USING THE TRAINING DATA SET ###


### STEP 9 ### CALCULATE ACCURACY ###


### STEP 10 ###TEST YOUR OWN WEATHER DATA ###

print("\nTry your own weather info to see if it might rain tomorrow!")
sunshine = float(input("Enter Sunshine (hours): "))
humidity3pm = float(input("Enter Humidity at 3pm (%): "))
pressure3pm = float(input("Enter Pressure at 3pm (hPa): "))
cloud9am = float(input("Enter Cloud at 9am (oktas 0–8): "))
cloud3pm = float(input("Enter Cloud at 3pm (oktas 0–8): "))

# Make a single-row DataFrame with the new input
student_input = pd.DataFrame([[sunshine, humidity3pm, pressure3pm, cloud9am, cloud3pm]],
                             columns=['Sunshine', 'Humidity3pm', 'Pressure3pm', 'Cloud9am', 'Cloud3pm'])

# Re-fit scaler only on the features used in the final model
scaler_for_5_features = preprocessing.MinMaxScaler()
scaler_for_5_features.fit(X)  # X is already defined with those 5 columns

# Scale the student input
student_input_scaled = scaler_for_5_features.transform(student_input)

# Ask the model to make a prediction
prediction = clf_logreg.predict(student_input_scaled)

# Show the prediction result
print("\n Prediction: Will it rain tomorrow?")
print("Yes!" if prediction[0] == 1 else "No! ")